---
title: 内部类-effective java
date: 2020-01-13 15:58:41
tags: [effective java 3rd , 读书笔记]
declare: true
---
### 非静态内部类
+ 不可能在没有宿主实例的情况下创建非静态成员类的实例。
+ 与其外部类之间的关系是在创建实例时建立的，并且之后不能被修改。
+ 常用用法是定义一个Adapter，例如HashMap中的KeySet。
+ 可以调用宿主实例上的方法，或者使用限定的构造[JLS，15.8.4] 获得对宿主实例的引用。
<!-- more -->

### 静态内部类
+ 公共的静态内部类常见的用途是作为公共帮助类，仅在与其外部类一起使用时才有用。
+ 私有的静态内部类常见用法是表示外部类的组件。例如HashMap中的Node表示key与value的关系，Node中的方法不需要访问Map，所以使用非静态成员类是浪费的。
+ **如果你声明了一个不需要访问宿主实例的成员类，总是把static修饰符放在它的声明中，使它成为一个静态成员类，而不是非静态的成员类。**如果忽略static，每个实例都会有一个隐藏的外部实例引用，存储这个引用是占用时间和空间的。

### 匿名内部类
+ 除了在声明的时候外，不能实例化它们。

### 局部内部类
+ 可以在任何可以声明局部变量的地方声明。
